<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../framework.js"></script>
</head>
<body>
	<h2>readyState 상태값 확인</h2>
	<hr />
	<textarea rows="10" cols="80" id="debug"></textarea>
	<br>
	<button id="clearBtn">초기화</button>
	<button id="sendBtn">전송</button>
	
	<script type="text/javascript">
	$("#clearBtn").click(function (){
		$("#debug").val("");
	});
	$("#sendBtn").click(function (){
		var xhr = new XMLHttpRequest();
		xhr.onreadystatechange = function(){
			switch(xhr.readyState)
			{
			case 1:
				$("#debug").val($("#debug").val() + "1번 상태로 변경\n");
				break;
			case 2:
				$("#debug").val($("#debug").val() + "2번 상태로 변경\n");
				break;
			case 3:
				$("#debug").val($("#debug").val() + "3번 상태로 변경\n");
				break;
			case 4:
				$("#debug").val($("#debug").val() + "4번 상태로 변경\n");
				if(xhr.status == 200)
				{ $("#debug").val($("#debug").val() + "정상수행됨\n"); }
				else
				{ 
					$("#debug").val($("#debug").val() + "에러\n"); 
					$("#debug").val($("#debug").val() + "오류 코드: " + xhr.status + "\n");
					$("#debug").val($("#debug").val() + "오류 메시지: " + xhr.statusText + "\n");
				}
				
				break;
			}
		};
		xhr.open("get", "hello11.jsp", true);
		xhr.send(null);
	});
	</script>
</body>
</html>