<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../framework.js"></script>
</head>
<body>
	<h1>서버에서 받은 메시지</h1>
	<div id="result"></div><br>
	<button>Ajax 호출</button>
	<script type="text/javascript">
		/* var btn = document.querySelector("button");
		btn.addEventListener("click", function(){}); */
		
		$("button").click(function(){
			// ajax 호출하기
			
			// ajax 요청과 응답에 대한 처리를 담당하는 객체
			var xhr = new XMLHttpRequest();
			// ajax 요청하기 (async = true > 비동기)
			xhr.open("GET", "hello.jsp", true);
			xhr.send(null);
			// 응답에 대한 처리를 진행하는 콜백함수 등록
			xhr.onreadystatechange = function(){
				//console.log("콜백함수 들어옴");
				// 결과 처리
				if(xhr.readyState == 4)
				{
					// 모든 응답이 서버에서 왔을때
					if(xhr.status == 200)
					{
						// 정상적으로 수행
						//alert(xhr.responseText);
						$("#result").html(xhr.responseText);
					}
				}
			};
			console.dir(xhr);
			// 
		});
	</script>
</body>
</html>