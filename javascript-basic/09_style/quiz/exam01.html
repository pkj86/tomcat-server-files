<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<style type="text/css">
	h3, div{
		margin: 0px;
		padding: 5px;
		width: 500px;
		border: 2px solid #334455;
		box-sizing: border-box;
	}
	h3{
		background-color: #8899aa;
	}
	div{
		position: absolute;
		height: 160px;
		clip: rect(0px, 500px, 160px, 0px);
	}
</style>
</head>
<body>
	<h2>어코디언 기능 구현</h2>
	<h3 onclick="doAction()">오늘은 자바스크립트 CSS</h3>
	<div>
		오늘은 자바스크립트 CSS 적용하는 날<br>
		오늘은 자바스크립트 CSS 적용하는 날<br>
		오늘은 자바스크립트 CSS 적용하는 날
	</div>
	<script type="text/javascript">
		var cnt = 160;
		var timer;
		var clip = document.defaultView.getComputedStyle(div, null).getPropertyValue("clip");
		function doAction()
		{
			var div = document.querySelector("div");
			
			if(cnt >= 160)
			{
				timer = setInterval(function(){
					clip = "rect(0px 500px " + (cnt -= 5) + "px 0px)";
					console.log(clip);
					div.style.clip = clip;			
					if(cnt <= 0){clearInterval(timer);}
				}, 1);				
			}
			else if(cnt <= 0)
			{
				timer = setInterval(function(){
					//var clip = document.defaultView.getComputedStyle(div, null).getPropertyValue("clip");
					clip = "rect(0px 500px " + (cnt += 5) + "px 0px)";
					console.log(clip);
					div.style.clip = clip;			
					if(cnt >= 160){clearInterval(timer);}
				}, 1);	
			}
		}
	</script>
</body>
</html>